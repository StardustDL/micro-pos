version: '3'

services:
  db:
    image: mongo:5
    ports:
      - "10501:27017"
  mq:
    image: rabbitmq:3-management
    ports:
      - "10511:5672"
      - "10512:15672"
    environment:
      - RABBITMQ_DEFAULT_USER=guest
      - RABBITMQ_DEFAULT_PASS=guest
  discovery:
    image: nacos/nacos-server:v2.1.0
    container_name: nacos-standalone
    environment:
    - PREFER_HOST_MODE=hostname
    - MODE=standalone
    ports:
    - "10401:8848"
    - "10402:9848"